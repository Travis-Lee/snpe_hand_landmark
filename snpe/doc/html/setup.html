<!--%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  Copyright (c) 2016-2018 Qualcomm Technologies, Inc.
  All Rights Reserved.
  Confidential and Proprietary - Qualcomm Technologies, Inc.
 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
-->
<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"></meta>
<meta http-equiv="X-UA-Compatible" content="IE=9"></meta>
<title>Snapdragon Neural Processing Engine SDK: SNPE Setup</title>
<link href="tabs.css" rel="stylesheet" type="text/css"></link>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="autoEnterCurrentDate.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="is.css" rel="stylesheet" type="text/css" ></link>
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Snapdragon Neural Processing Engine SDK
   <span id="projectnumber"></span></div>
   <div id="projectbrief">Reference Guide</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('setup.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">SNPE Setup </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="installation"></a>
Installation</h1>
<p>The chapter walks through the setup of tools required for SNPE and the SDK installation.</p>
<h1><a class="anchor" id="prerequisites"></a>
Prerequisites</h1>
<ol>
<li>
Currently the SNPE SDK development environment is limited to <b>Ubuntu</b>, specifically <b>version 16.04</b>. </li>
<li>
The SDK requires either Caffe, Caffe2, ONNX or TensorFlow. <ol type="i">
<li>
Instructions for Caffe: <a class="el" href="setup_caffe.html">Caffe and Caffe2 Setup</a> </li>
<li>
Instructions for TensorFlow: <a class="el" href="setup_tensorflow.html">TensorFlow Setup</a> </li>
<li>
Instructions for ONNX: <a class="el" href="setup_onnx.html">ONNX Setup</a> </li>
</ol>
</li>
<li>
Python 3.5 <ul>
<li>
"/usr/bin/python" and "python" should point to Python 3. It can be achieved using following steps :- <pre class="fragment">          Create list of alternatives for python
              $ sudo update-alternatives --install /usr/bin/python python /usr/bin/python2.7 1
              $ sudo update-alternatives --install /usr/bin/python python /usr/bin/python3.5 2

          Check the python list
              $ update-alternatives --list python

          update alternative to select required python version
              $ sudo update-alternatives --config python</pre>  </li>
</ul>
</li>
<li>
Android NDK (android-ndk-r17c-linux-x86) is optional and only required to build the native CPP example that ships with the SDK <ul>
<li>
SDK Android binaries built with <b>clang</b> require <b>libc++_shared.so</b> which is shipped with the SDK. (See <a class="el" href="setup.html#setup_platform_libs">Platform Runtime Libraries</a> below).  </li>
</ul>
</li>
<li>
Android SDK (SDK version 23 and build tools version 23.0.2) is optional and only required to build the Android APK that ships with the SDK.  </li>
</ol>
<h1><a class="anchor" id="install"></a>
Setup SDK Environment and Dependencies</h1>
<p>Instructions for setting up the SDK environment are as follows. </p><ol>
<li>
Extract the SDK to a directory. The directory the SDK is extracted to is referred to as $SNPE_ROOT. Note the use of "X.Y.Z" in this section. It refers to the release zip that is in use (eg. snpe-1.0.0.zip). <pre class="fragment">unzip -X snpe-X.Y.Z.zip
</pre>  </li>
<li>
Run the dependencies script to check the system for Ubuntu package dependencies. It will ask to install ones that are missing. Install the missing packages. <pre class="fragment">source snpe-X.Y.Z/bin/dependencies.sh
</pre>  </li>
<li>
<p class="startli">Run the python dependency checker to check the system for python package dependencies. Install the missing packages. </p><pre class="fragment">source snpe-X.Y.Z/bin/check_python_depends.sh
</pre><p> Python package versions tested with the SNPE SDK are: </p><ul>
<li>
numpy v1.16.5 </li>
<li>
sphinx v2.2.1 </li>
<li>
scipy v1.3.1 </li>
<li>
matplotlib v3.0.3 </li>
<li>
skimage v0.15.0 </li>
<li>
protobuf v3.6.0 </li>
<li>
pyyaml v5.1 </li>
</ul>
<p class="endli"></p>
</li>
</ol>
<h1><a class="anchor" id="setup_platform_libs"></a>
Platform Runtime Libraries</h1>
<p>$SNPE_ROOT refers to the directory path where the SNPE SDK is installed. </p><ul>
<li>
<b>Aarch64 Linux Runtime Library Requirement</b><br />
 The SDK requires <b>libatomic.so.1</b>. The SDK does not ship with this library so it needs to be copied into the library folder of SNPE SDK aarch64-linux <pre class="fragment">cp &lt;path_to_libatomic&gt;/libatomic.so.1 $SNPE_ROOT/lib/aarch64-linux-gcc4.9/</pre>  </li>
</ul>
<h1><a class="anchor" id="setup_environment"></a>
Setup Environment</h1>
<p>Building the Native C++ Example (<a class="el" href="cplus_plus_tutorial.html#building_and_running_on_arm_android">Building Your First SNPE Native App</a>) on Android requires the Android NDK installed with the ANDROID_NDK_ROOT exported as per the command below. </p><pre class="fragment">  export ANDROID_NDK_ROOT=&lt;path_to_ndk&gt;
</pre><p> If the ANDROID_NDK_ROOT is not set the environment setup script will attempt to find the NDK path by searching for ndk-build.</p>
<p><b>Environment setup for Caffe</b> </p><ul>
<li>
Using the SNPE SDK with Caffe models requires a valid Caffe installation (see <a class="el" href="setup_caffe.html">Caffe and Caffe2 Setup</a>.) </li>
<li>
<p class="startli">Go to $SNPE_ROOT and run the following script to setup the SNPE SDK environment. The location of the Caffe directory must be provided. </p><pre class="fragment">source bin/envsetup.sh -c $CAFFE_DIR

       where $CAFFE_DIR is the path to the Caffe installation.
</pre><p class="endli"></p>
</li>
<li>
The script may show warnings about mismatched Caffe SHA. The SHA that the script checks for is the SHA that the SDK has been tested with. It is ok to use a different version of Caffe, including a version built from source. This warning can be ignored. </li>
<li>
The script sets up the following environment variables: <pre class="fragment">  SNPE_ROOT: root directory of the SNPE SDK installation
  CAFFE_HOME: root directory of the Caffe installation you provided ($CAFFE_DIR)
</pre>  </li>
<li>
The script also updates PATH, LD_LIBRARY_PATH, and PYTHONPATH. </li>
</ul>
<p><b>Environment setup for Caffe2</b> </p><ul>
<li>
Using the SNPE SDK with Caffe2 models requires a valid Caffe2 installation. (see <a class="el" href="setup_caffe.html">Caffe and Caffe2 Setup</a>.) </li>
<li>
<p class="startli">Go to $SNPE_ROOT and run the following script to setup the SNPE SDK environment. The location of the Caffe2 directory must be provided. </p><pre class="fragment">source bin/envsetup.sh -f $CAFFE2_DIR

       where $CAFFE2_DIR is the path to the Caffe2 installation.
</pre><p class="endli"></p>
</li>
<li>
The script sets up the following environment variables: <pre class="fragment">  SNPE_ROOT: root directory of the SNPE SDK installation
  CAFFE2_HOME: root directory of the Caffe2 installation you provided ($CAFFE2_DIR)
</pre>  </li>
<li>
The script also updates PATH, LD_LIBRARY_PATH, and PYTHONPATH. </li>
</ul>
<p><b>Environment setup for TensorFlow</b> </p><ul>
<li>
Using the SNPE SDK with TensorFlow models requires a valid TensorFlow installation (see <a class="el" href="setup_tensorflow.html">TensorFlow Setup</a>.) </li>
<li>
Go to $SNPE_ROOT and run the following script to setup the SNPE SDK environment. The location of the TensorFlow directory must be provided. <pre class="fragment">source bin/envsetup.sh -t $TENSORFLOW_DIR

       where $TENSORFLOW_DIR is the path to the TensorFlow installation.
</pre>  </li>
<li>
The script sets up the following environment variables. <pre class="fragment">  SNPE_ROOT: root directory of the SNPE SDK installation
  TENSORFLOW_HOME: root directory of the TensorFlow installation provided
</pre> </li>
<li>
The script also updates PATH, LD_LIBRARY_PATH, and PYTHONPATH. </li>
</ul>
<p><b>Environment setup for ONNX</b> </p><ul>
<li>
Using the SNPE SDK with ONNX models requires a valid ONNX installation (see <a class="el" href="setup_onnx.html">ONNX Setup</a>.) </li>
<li>
Go to $SNPE_ROOT and run the following script to setup the SNPE SDK environment. The location of the ONNX directory must be provided. <pre class="fragment">source bin/envsetup.sh -o $ONNX_DIR

       where $ONNX_DIR is the path to the ONNX installation.
</pre>  </li>
<li>
The script sets up the following environment variables. <pre class="fragment">  SNPE_ROOT: root directory of the SNPE SDK installation
  ONNX_HOME: root directory of the TensorFlow installation provided
</pre> </li>
<li>
The script also updates PATH, LD_LIBRARY_PATH, and PYTHONPATH. </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!--%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  Copyright (c) 2016-2018 Qualcomm Technologies, Inc.
  All Rights Reserved.
  Confidential and Proprietary - Qualcomm Technologies, Inc.
 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 -->
<!-- start footer part -->
<div id="nav-path" class="navpath" font-size:small;><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      <p align="right">
        80-NL315-14 A <br>
        MAY CONTAIN U.S. AND INTERNATIONAL EXPORT CONTROLLED INFORMATION
        <!--If the Controlled Distribution statement is to be included, uncomment below:-->
        <!--<b>Controlled Distribution - DO NOT COPY</b>-->
        <img class="footer" width:5%; alt="QTI Logo" src="images/QTI_Logo.png" />
      </p>
    </li>
  </ul>
</div>
</body>
</html>
