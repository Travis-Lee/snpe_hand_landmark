<!--%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  Copyright (c) 2016-2018 Qualcomm Technologies, Inc.
  All Rights Reserved.
  Confidential and Proprietary - Qualcomm Technologies, Inc.
 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
-->
<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"></meta>
<meta http-equiv="X-UA-Compatible" content="IE=9"></meta>
<title>Snapdragon Neural Processing Engine SDK: Running a model with UDO</title>
<link href="tabs.css" rel="stylesheet" type="text/css"></link>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="autoEnterCurrentDate.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="is.css" rel="stylesheet" type="text/css" ></link>
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Snapdragon Neural Processing Engine SDK
   <span id="projectnumber"></span></div>
   <div id="projectbrief">Reference Guide</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('running_model_with_udo.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Running a model with UDO </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="executing_nets_with_udo"></a>
Executing neural networks with UDO</h1>
<p>This section describes how to provide the set of libraries representing a UDO to SNPE, to execute network models containing the UDO. Execution requires the model containing the UDO be converted into DLC format using SNPE converter tools as explained in <a class="el" href="preparing_model_with_udo.html">Preparing a model with UDO</a>. Execution additionally requires the creation of registration and implementation libraries compatible with UDO APIs as described in <a class="el" href="udo_overview.html">Overview of UDO</a>.<br />
</p>
<p>UDOs can be registered with a process and be utilized by any instance of SNPE that employs them throughout the lifetime of the process. They are registered with zdl::SNPE::SnpeFactory using the following API:<br />
</p>
<pre class="fragment">bool
SNPEFactory::addOpPackage( const std::string&amp; regLibraryPath );
</pre><p>Note that the absolute path to the registration library is explicitly provided to SNPE using the above API, whereas the implementation libraries can exist anywhere on the system that should be discovered by the library loader (using LD_LIBRARY_PATH on Unix systems).</p>
<p>In addition to the native C++ API, the SNPE SDK provides a Java API for use in example applications. The API is a part of the SNPE class:<br />
 </p><pre class="fragment">public static boolean
addOpPackage(final Application application, String regLibraryPath)
</pre><p><b>Running snpe-net-run command-line tool with UDO-based DLC</b></p>
<p>This section outlines the use of <b>snpe-net-run</b> command line tool with a UDO-based DLC. The use of <a class="el" href="tools.html#tools_snpe-net-run">snpe-net-run</a> is largely unchanged from its typical usage. The snpe-net-run tool registers a UDO registration library through the command line option --udo_package_path which accepts the absolute path to the registration library.</p>
<p>Example usage is as follows: </p><pre class="fragment">snpe-net-run --container &lt;path_to_dlc&gt; --input_list &lt;path_to_input_list&gt; --udo_package_path &lt;path_to_registration_lib&gt;
</pre><p><b>Running a UDO-based DLC on an unsigned process domain</b></p>
<p>To run on an unsigned process domain, the same principles as the above section on utilizing the <b>snpe-net-run</b> command line tool apply with a few extensions. Firstly, unsigned process domains only apply to the DSP target. Second, for an unsigned process domain to be created, an argument must be passed to the command line to request it. This comes in the form of the platform_options key:value argument pairing. To enable model execution on an unsigned process domain, simply add the following to the command line:</p>
<pre class="fragment">--use_dsp --platform_options unsignedPD:ON
</pre><p>Example usage is as follows: </p><pre class="fragment">snpe-net-run --container &lt;path_to_dlc&gt; --input_list &lt;path_to_input_list&gt; --udo_package_path &lt;path_to_registration_lib&gt; --use_dsp --platform_options unsignedPD:ON
</pre><p><b>Note:</b> snpe-net-run requires implementation libraries to be discoverable by the system library loader. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!--%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  Copyright (c) 2016-2018 Qualcomm Technologies, Inc.
  All Rights Reserved.
  Confidential and Proprietary - Qualcomm Technologies, Inc.
 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 -->
<!-- start footer part -->
<div id="nav-path" class="navpath" font-size:small;><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      <p align="right">
        80-NL315-14 A <br>
        MAY CONTAIN U.S. AND INTERNATIONAL EXPORT CONTROLLED INFORMATION
        <!--If the Controlled Distribution statement is to be included, uncomment below:-->
        <!--<b>Controlled Distribution - DO NOT COPY</b>-->
        <img class="footer" width:5%; alt="QTI Logo" src="images/QTI_Logo.png" />
      </p>
    </li>
  </ul>
</div>
</body>
</html>
